{"version":3,"file":"static/js/799.96befd09.chunk.js","mappings":"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","sources":["pages/place/Read.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\n\nimport './Read.css';\n\n\nfunction Read() {\n  const { pord } = useParams();\n  const [place, setPlace] = useState(null);  // null로 초기화\n  const [favorites, setFavorites] = useState(() => {\n    const savedFavorites = localStorage.getItem('bookmarks');\n    return savedFavorites ? JSON.parse(savedFavorites) : [];\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`http://localhost:8080/api/place/read?pord=${pord}`);\n        setPlace(response.data);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchData();\n  }, [pord]);  // pord를 의존성 배열에 추가\n\n  useEffect(() => {\n    const handleStorageChange = () => {\n      const savedFavorites = localStorage.getItem('bookmarks');\n      if (savedFavorites) {\n        setFavorites(JSON.parse(savedFavorites));\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, []);\n\n  // place가 로드되지 않았을 때 로딩 메시지 표시\n  if (!place) {\n    return <div>로딩 중...</div>;\n  }\n\n  const isFavorite = favorites.some(fav => fav && fav.pord === parseInt(pord));\n\n  const toggleFavorite = () => {\n    let updatedFavorites;\n\n    if (isFavorite) {\n      updatedFavorites = favorites.filter(fav => fav && fav.pord !== parseInt(pord));\n    } else {\n      const newFavorite = {\n        pord: parseInt(pord),\n        p_name: place.p_name,\n        p_address: place.p_address,\n        p_call: place.p_call,\n        p_site: place.p_site,\n        p_opentime: place.p_opentime,\n        p_category: place.p_category,\n        p_park: place.p_park,\n      };\n      updatedFavorites = [...favorites, newFavorite];\n    }\n\n    setFavorites(updatedFavorites);\n    localStorage.setItem('bookmarks', JSON.stringify(updatedFavorites));\n    window.dispatchEvent(new Event('storage'));\n  };\n\n  return (\n    <div className=\"detail-page\">\n      <h1>{place.p_name}</h1>\n      <p>{place.p_content}</p>\n      <img src={place.p_image} alt={place.p_name} />\n      <div className=\"store-info\">\n        <p><strong>주소:</strong> {place.p_address}</p>\n        <p><strong>연락처:</strong> {place.p_call}</p>\n        <p><strong>홈페이지:</strong> <a href={place.p_site} target=\"_blank\" rel=\"noopener noreferrer\">{place.p_site}</a></p>\n        <p><strong>영업시간:</strong> {place.p_opentime}</p>\n        <p><strong>주차 안내:</strong> {place.p_park}</p>\n      </div>\n\n    \n      <button className=\"favorite-button\" onClick={toggleFavorite} style={{ position: 'relative', background: 'none', border: 'none', cursor: 'pointer' }}>\n        {isFavorite ? (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"pink\" stroke=\"black\" width=\"24px\" height=\"24px\">\n            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n          </svg>\n        ) : (\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"black\" width=\"24px\" height=\"24px\">\n            <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" />\n          </svg>\n        )}\n      </button>\n    </div>\n  );\n}\n\nexport default Read;\n"],"names":["pord","useParams","place","setPlace","useState","favorites","setFavorites","savedFavorites","localStorage","getItem","JSON","parse","useEffect","async","response","axios","get","data","error","console","fetchData","handleStorageChange","window","addEventListener","removeEventListener","_jsx","children","isFavorite","some","fav","parseInt","_jsxs","className","p_name","p_content","src","p_image","alt","p_address","p_call","href","p_site","target","rel","p_opentime","p_park","onClick","toggleFavorite","updatedFavorites","filter","newFavorite","p_category","setItem","stringify","dispatchEvent","Event","style","position","background","border","cursor","xmlns","viewBox","fill","stroke","width","height","d"],"sourceRoot":""}